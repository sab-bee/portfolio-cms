---
const { blok } = Astro.props;
---

<div class="card w-fit mx-auto rounded-2xl">
  <div
    class="bg-primary border-2 border-dashed border-black p-8 pr-14 rounded-2xl cursor-pointer hover:bg-blue-500 transition-colors w-[100%] md:w-[450px]"
  >
    <p class="italic m-0 font-normal text-base">{blok.testimoni}</p>
    <h2 class="m-0 text-lg mt-2 font-medium">{blok.reviewer}</h2>
    <h2 class="m-0 font-medium text-neutral-500 text-base">{blok.title}</h2>
  </div>
</div>

<style>
  .card {
    transition: 0.4s ease-out;
  }
  .card:not(:first-child) {
    margin-top: -42%;
    box-shadow: rgba(0, 0, 0, 0.308) 0 -20px 20px -10px;
  }

  .arrange {
    transform: translateY(75%);
  }

  @media only screen and (max-width: 768px) {
    .card:not(:first-child) {
      margin-top: calc(-10%);
    }
    .arrange {
      transform: translateY(20%);
    }
  }
</style>

<script>
  const cards = document.querySelectorAll(".card");
  cards.forEach((card, i) => {
    card.addEventListener("mouseover", () => {
      for (let j = i + 1; j < cards.length; j++) {
        cards[j].classList.add("arrange");
      }
    });

    card.addEventListener("mouseleave", () => {
      for (let j = i + 1; j < cards.length; j++) {
        cards[j].classList.remove("arrange");
      }
    });
  });
</script>
